"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[729],{729:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(540),l=a(569),s=a(266),c=a(767),o=a(976),r=a(149),m=a(210),u=a(663),i=a(953),d=a(343),p=a(306);const f=function(){const e=(0,c.Zp)(),{id:t}=(0,c.g)(),[a,f]=(0,n.useState)(!0),[E,h]=(0,n.useState)([]),y=(0,n.useContext)(d.A),N=(0,n.useContext)(p.A);if((0,n.useEffect)((()=>{const e=s.A.CancelToken.source();return async function(){try{const a=await s.A.get(`/post/${t}`,{cancelToken:e.token});h(a.data),f(!1)}catch(e){console.log(e)}}(),()=>{e.cancel()}}),[t]),!a&&!E)return n.createElement(i.A,null);if(a)return n.createElement(l.A,null,n.createElement(r.A,null));const g=new Date(E.createdDate),k=`${g.getMonth()+1}/${g.getDate()}/${g.getFullYear()}`;return n.createElement(l.A,{title:"Fake Hardocoded Title"},n.createElement("div",{className:"d-flex justify-content-between"},n.createElement("h2",null,E.title),y.loggedIn&&E.author.username==y.user.username&&n.createElement("span",{className:"pt-2"},n.createElement(o.N_,{to:`/post/${E._id}/edit`,"data-tooltip-content":"Edit","data-tooltip-id":"edit",className:"text-primary mr-2"},n.createElement("i",{className:"fas fa-edit"})),n.createElement(u.m_,{id:"edit",className:"custom-tooltip"})," ",n.createElement("a",{"data-tooltip-content":"Delete","data-tooltip-id":"delete",className:"delete-post-button text-danger",onClick:async function(){if(window.confirm("Do you really want to delete this post?"))try{const a=await s.A.delete(`/post/${t}`,{data:{token:y.user.token}});console.log(a.data),"Success"==a.data&&(N({type:"flashMessages",value:"Post was successfully deleted!"}),e(`/profile/${y.user.username}`))}catch(e){}}},n.createElement("i",{className:"fas fa-trash"})),n.createElement(u.m_,{id:"delete",className:"custom-tooltip"}))),n.createElement("p",{className:"text-muted small mb-4"},n.createElement(o.N_,{to:`/profile/${E.author.username}`},n.createElement("img",{className:"avatar-tiny",src:E.author.avatar})),"Posted by"," ",n.createElement(o.N_,{to:`/profile/${E.author.username}`},E.author.username)," ","on ",k),n.createElement("div",{className:"body-content"},n.createElement(m.o,{children:E.body})))}}}]);